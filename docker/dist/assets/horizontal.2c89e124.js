import{d as K,G as T,u as V,o as h,e as X,_ as B,__tla as N}from"./index.dc33c00f.js";import{K as L,aC as Q,h as U,az as I,aD as Z,a1 as ee,l as ae,I as te,k as le,aJ as ne,ak as u,o,a as v,Y as s,S as r,u as c,F as b,ab as ie,R as w,b as C,X as _,ad as se,W as g,a6 as z,n as re}from"./vue.445bf94b.js";let M,ce=Promise.all([(()=>{try{return N}catch{}})()]).then(async()=>{const R={class:"el-menu-horizontal-warp"},S=L({name:"navMenuHorizontal"}),D=L({...S,props:{menuList:{type:Array,default:()=>[]}},setup(x){const H=x,$=Q(()=>K(()=>import("./subItem.21f28088.js").then(async t=>(await t.__tla,t)),["assets/subItem.21f28088.js","assets/vue.445bf94b.js","assets/index.dc33c00f.js","assets/index.57bc2f6e.css"])),d=U(),E=T(),O=V(),{routesList:m}=I(E),{themeConfig:y}=I(O),P=Z(),i=ee({defaultActive:""}),W=ae(()=>H.menuList),j=t=>{const a=t.wheelDelta||-t.deltaY*40;d.value.$refs.wrapRef.scrollLeft=d.value.$refs.wrapRef.scrollLeft+a/4},Y=()=>{re(()=>{let t=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!t)return!1;d.value.$refs.wrapRef.scrollLeft=t.offsetLeft})},k=t=>t.filter(a=>{var e;return!((e=a.meta)!=null&&e.isHide)}).map(a=>(a=Object.assign({},a),a.children&&(a.children=k(a.children)),a)),q=t=>{let a={children:[]};if(!i.defaultActive){const e=p(m.value,t);i.defaultActive=e.path}return k(m.value).map((e,n)=>{e.path===i.defaultActive&&(e.k=n,a.item={...e},a.children=[{...e}],e.children&&(a.children=e.children))}),a},A=t=>{const{path:a,meta:e}=t,n=p(m.value,a);if(y.value.layout==="classic")n?i.defaultActive=n.path:i.defaultActive=`/${a==null?void 0:a.split("/")[1]}`;else{const f=e!=null&&e.isDynamic?e.isDynamicPath.split("/"):a.split("/");f.length>=4&&(e!=null&&e.isHide)?i.defaultActive=f.splice(0,3).join("/"):i.defaultActive=a}},p=(t,a)=>{let e;return t.forEach(n=>{if(n.path===a){e=n;return}if(n.children&&p(n.children,a)){e=n;return}}),e},F=t=>{h.handleOpenLink(t)};return te(()=>{A(P)}),le(()=>{Y()}),ne(t=>{A(t);let{layout:a,isClassicSplitMenu:e}=y.value;a==="classic"&&e&&X.emit("setSendClassicChildren",q(t.path))}),(t,a)=>{const e=u("SvgIcon"),n=u("el-sub-menu"),f=u("el-menu-item"),G=u("el-menu"),J=u("el-scrollbar");return o(),v("div",R,[s(J,{onWheel:z(j,["prevent"]),ref_key:"elMenuHorizontalScrollRef",ref:d},{default:r(()=>[s(G,{router:"","default-active":c(i).defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:r(()=>[(o(!0),v(b,null,ie(c(W),l=>(o(),v(b,null,[l.children&&l.children.length>0?(o(),w(n,{index:l.path,key:l.path},{title:r(()=>[s(e,{name:l.meta.icon},null,8,["name"]),C("span",null,_(c(h).setMenuI18n(l)),1)]),default:r(()=>[s(c($),{chil:l.children},null,8,["chil"])]),_:2},1032,["index"])):(o(),w(f,{index:l.path,key:l.path},se({_:2},[!l.meta.isLink||l.meta.isLink&&l.meta.isIframe?{name:"title",fn:r(()=>[s(e,{name:l.meta.icon},null,8,["name"]),g(" "+_(c(h).setMenuI18n(l)),1)]),key:"0"}:{name:"title",fn:r(()=>[C("a",{class:"w100",onClick:z(ue=>F(l),["prevent"])},[s(e,{name:l.meta.icon},null,8,["name"]),g(" "+_(c(h).setMenuI18n(l)),1)],8,["onClick"])]),key:"1"}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}}});M=B(D,[["__scopeId","data-v-02fdb53c"]])});export{ce as __tla,M as default};
