import{j as O,u as S,e as c,S as U,d as j,__tla as x}from"./index.dc33c00f.js";import{K as V,aD as z,aH as H,az as d,a1 as Y,l as k,I as Z,n as A,k as b,a0 as q,i as B,ak as F,o as f,a as G,Y as r,S as o,_ as h,u as e,R as y,T as p,Z as w,U as L,V as g,aI as M,aC as W}from"./vue.445bf94b.js";let I,J=Promise.all([(()=>{try{return x}catch{}})()]).then(async()=>{let R,_;R={class:"layout-parent"},_=V({name:"layoutParentView"}),I=V({..._,setup(Q){const T=W(()=>j(()=>import("./iframes.409914e2.js"),["assets/iframes.409914e2.js","assets/vue.445bf94b.js"])),t=z(),N=H(),P=O(),C=S(),{keepAliveNames:u,cachedViews:E}=d(P),{themeConfig:v}=d(C),a=Y({refreshRouterViewKey:"",iframeRefreshKey:"",keepAliveNameList:[],iframeList:[]}),l=k(()=>v.value.animation),n=k(()=>t.meta.isIframe),D=async()=>{N.getRoutes().forEach(s=>{s.meta.isIframe&&(s.meta.isIframeOpen=!1,s.meta.loading=!0,a.iframeList.push({...s}))})};return Z(()=>{a.keepAliveNameList=u.value,c.on("onTagsViewRefreshRouterView",s=>{a.keepAliveNameList=u.value.filter(i=>t.name!==i),a.refreshRouterViewKey="",a.iframeRefreshKey="",A(()=>{a.refreshRouterViewKey=s,a.iframeRefreshKey=s,a.keepAliveNameList=u.value})})}),b(()=>{D(),A(()=>{setTimeout(()=>{if(v.value.isCacheTagsView){let s=U.get("tagsViewList")||[];E.value=s.filter(i=>{var m;return(m=i.meta)==null?void 0:m.isKeepAlive}).map(i=>i.name)}},0)})}),q(()=>{c.off("onTagsViewRefreshRouterView",()=>{})}),B(()=>t.fullPath,()=>{a.refreshRouterViewKey=decodeURI(t.fullPath)},{immediate:!0}),(s,i)=>{const m=F("router-view");return f(),G("div",R,[r(m,null,{default:o(({Component:K})=>[r(h,{name:e(l),mode:"out-in"},{default:o(()=>[(f(),y(M,null,[e(t).meta.isKeepAlive?p((f(),y(L(K),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]]):g("",!0)],1024))]),_:2},1032,["name"]),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[e(t).meta.isKeepAlive?g("",!0):p((f(),y(L(K),{key:e(a).refreshRouterViewKey,class:"w100"})),[[w,!e(n)]])]),_:2},1032,["name"])]),_:1}),r(h,{name:e(l),mode:"out-in"},{default:o(()=>[p(r(e(T),{class:"w100",refreshKey:e(a).iframeRefreshKey,name:e(l),list:e(a).iframeList},null,8,["refreshKey","name","list"]),[[w,e(n)]])]),_:1},8,["name"])])}}})});export{J as __tla,I as default};
