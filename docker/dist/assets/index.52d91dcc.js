import{b as j,k as J,g as F,d as M,__tla as ee}from"./index.dc33c00f.js";import{K as N,h,a1 as ae,ak as r,au as P,o as c,a as te,b as E,T as u,Z as le,u as e,Y as a,S as o,ac as oe,W as _,X as y,R as f,G as ne,P as re,aC as ie}from"./vue.445bf94b.js";import{u as me,__tla as se}from"./table.37525a6c.js";import{f as de,d as pe,__tla as ce}from"./template.ef52e0cc.js";let L,ue=Promise.all([(()=>{try{return ee}catch{}})(),(()=>{try{return se}catch{}})(),(()=>{try{return ce}catch{}})()]).then(async()=>{let x,k,v,S;x={class:"layout-padding"},k={class:"layout-padding-auto layout-padding-view"},v={class:"mb8",style:{width:"100%"}},S=N({name:"systemGenTemplate"}),L=N({...S,setup(_e){const V=ie(()=>M(()=>import("./form.df0263a8.js").then(async t=>(await t.__tla,t)),["assets/form.df0263a8.js","assets/index.dc33c00f.js","assets/vue.445bf94b.js","assets/index.57bc2f6e.css","assets/template.ef52e0cc.js","assets/form.c4bbfead.css"])),{t:i}=j(),w=h(),T=h(),g=h(!0),C=h([]),D=h(!0),m=ae({queryForm:{},pageList:de,descs:["create_time"]}),{getDataList:d,currentChangeHandle:z,sizeChangeHandle:K,downBlobFile:G,tableStyle:R}=me(m),H=()=>{T.value.resetFields(),C.value=[],d()},I=()=>{G("/gen/template/export",m.queryForm,"template.xlsx")},Q=t=>{C.value=t.map(({id:l})=>l),D.value=!t.length},$=async t=>{try{await J().confirm(i("common.delConfirmText"))}catch{return}try{await pe(t),d(),F().success(i("common.delSuccessText"))}catch(l){F().error(l.msg)}};return(t,l)=>{const U=r("el-input"),q=r("el-form-item"),p=r("el-button"),A=r("el-form"),B=r("el-row"),O=r("right-toolbar"),s=r("el-table-column"),W=r("el-table"),X=r("pagination"),b=P("auth"),Y=P("loading");return c(),te("div",x,[E("div",k,[u(a(B,{class:"ml10"},{default:o(()=>[a(A,{inline:!0,model:e(m).queryForm,onKeyup:oe(e(d),["enter"]),ref_key:"queryRef",ref:T},{default:o(()=>[a(q,{label:t.$t("template.templateName"),prop:"templateName"},{default:o(()=>[a(U,{placeholder:e(i)("template.inputTemplateNameTip"),style:{"max-width":"180px"},modelValue:e(m).queryForm.templateName,"onUpdate:modelValue":l[0]||(l[0]=n=>e(m).queryForm.templateName=n)},null,8,["placeholder","modelValue"])]),_:1},8,["label"]),a(q,null,{default:o(()=>[a(p,{onClick:e(d),formDialogRef:"",icon:"search",type:"primary"},{default:o(()=>[_(y(t.$t("common.queryBtn")),1)]),_:1},8,["onClick"]),a(p,{onClick:H,formDialogRef:"",icon:"Refresh"},{default:o(()=>[_(y(t.$t("common.resetBtn")),1)]),_:1})]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},512),[[le,e(g)]]),a(B,null,{default:o(()=>[E("div",v,[u((c(),f(p,{onClick:l[1]||(l[1]=n=>e(w).openDialog()),class:"ml10",icon:"folder-add",type:"primary"},{default:o(()=>[_(y(t.$t("common.addBtn")),1)]),_:1})),[[b,"codegen_template_add"]]),u((c(),f(p,{plain:"",disabled:e(D),onClick:l[2]||(l[2]=n=>$(e(C))),class:"ml10",icon:"Delete",type:"primary"},{default:o(()=>[_(y(t.$t("common.delBtn")),1)]),_:1},8,["disabled"])),[[b,"codegen_template_del"]]),a(O,{export:"codegen_template_export",onExportExcel:I,onQueryTable:e(d),class:"ml10",style:{float:"right","margin-right":"20px"},showSearch:e(g),"onUpdate:showSearch":l[3]||(l[3]=n=>ne(g)?g.value=n:null)},null,8,["onQueryTable","showSearch"])])]),_:1}),u((c(),f(W,{data:e(m).dataList,onSelectionChange:Q,style:{width:"100%"},border:"","cell-style":e(R).cellStyle,"header-cell-style":e(R).headerCellStyle},{default:o(()=>[a(s,{align:"center",type:"selection",width:"40"}),a(s,{label:e(i)("template.index"),type:"index",width:"60"},null,8,["label"]),a(s,{label:e(i)("template.templateName"),prop:"templateName","show-overflow-tooltip":""},null,8,["label"]),a(s,{label:e(i)("template.generatorPath"),prop:"generatorPath","show-overflow-tooltip":""},null,8,["label"]),a(s,{label:e(i)("template.desc"),prop:"templateDesc","show-overflow-tooltip":""},null,8,["label"]),a(s,{label:e(i)("template.createTime"),prop:"createTime","show-overflow-tooltip":""},null,8,["label"]),a(s,{label:t.$t("common.action"),width:"150"},{default:o(n=>[u((c(),f(p,{icon:"edit-pen",onClick:Z=>e(w).openDialog(n.row.id),text:"",type:"primary"},{default:o(()=>[_(y(t.$t("common.editBtn")),1)]),_:2},1032,["onClick"])),[[b,"codegen_template_edit"]]),u((c(),f(p,{icon:"delete",onClick:Z=>$([n.row.id]),text:"",type:"primary"},{default:o(()=>[_(y(t.$t("common.delBtn")),1)]),_:2},1032,["onClick"])),[[b,"codegen_template_del"]])]),_:1},8,["label"])]),_:1},8,["data","cell-style","header-cell-style"])),[[Y,e(m).loading]]),a(X,re({onCurrentChange:e(z),onSizeChange:e(K)},e(m).pagination),null,16,["onCurrentChange","onSizeChange"])]),a(e(V),{onRefresh:l[4]||(l[4]=n=>e(d)()),ref_key:"formDialogRef",ref:w},null,512)])}}})});export{ue as __tla,L as default};
