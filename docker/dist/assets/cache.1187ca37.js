import{s as pl,_ as fl,__tla as hl}from"./index.dc33c00f.js";import{i as p}from"./echarts.c3aad447.js";import{K as f,h as m,a1 as yl,ak as h,o as Cl,a as Al,Y as r,S as _,b as l,X as s,u as t,aq as y,aF as Fl,aG as wl}from"./vue.445bf94b.js";let C,El=Promise.all([(()=>{try{return hl}catch{}})()]).then(async()=>{function A(){return pl({url:"/admin/system/cache",method:"get"})}const e=i=>(Fl("data-v-e3ebaa46"),i=i(),wl(),i),F={class:"layout-padding cache"},w=e(()=>l("div",{class:"mb-4 lg"},"\u57FA\u672C\u4FE1\u606F",-1)),E={class:"el-table--enable-row-transition el-table--large el-table"},D={class:"el-table__body",cellspacing:"0"},O={class:"el-table__row"},g=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"Redis\u7248\u672C")],-1)),x={class:"el-table__cell"},B={class:"cell"},k=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u8FD0\u884C\u6A21\u5F0F")],-1)),S={class:"el-table__cell"},R={class:"cell"},z=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u7AEF\u53E3")],-1)),P={class:"el-table__cell"},K={class:"cell"},X=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u5BA2\u6237\u7AEF\u6570")],-1)),q={class:"el-table__cell"},G={class:"cell"},I={class:"el-table__row"},L=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u8FD0\u884C\u65F6\u95F4(\u5929)")],-1)),M={class:"el-table__cell"},U={class:"cell"},Y=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u4F7F\u7528\u5185\u5B58")],-1)),j={class:"el-table__cell"},H={class:"cell"},J=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u4F7F\u7528CPU")],-1)),N={class:"el-table__cell"},Q={class:"cell"},T=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u5185\u5B58\u914D\u7F6E")],-1)),V={class:"el-table__cell"},W={class:"cell"},Z={class:"el-table__row"},$=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"AOF\u662F\u5426\u5F00\u542F")],-1)),ll={class:"el-table__cell"},el={class:"cell"},al=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"RDB\u662F\u5426\u6210\u529F")],-1)),sl={class:"el-table__cell"},tl={class:"cell"},cl=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"Key\u6570\u91CF")],-1)),dl={class:"el-table__cell"},il={class:"cell"},rl=e(()=>l("td",{class:"el-table__cell"},[l("div",{class:"cell"},"\u7F51\u7EDC\u5165\u53E3/\u51FA\u53E3")],-1)),_l={class:"el-table__cell"},ol={class:"cell"},nl={class:"sm:flex"},ml=e(()=>l("div",{class:"mb-10"},"\u547D\u4EE4\u7EDF\u8BA1",-1)),bl=e(()=>l("div",{class:"mb-10"},"\u5185\u5B58\u4FE1\u606F",-1)),vl=f({name:"cache"}),ul=f({...vl,setup(i){const a=m({}),b=m(),v=m(),c=yl({commandChartOption:{tooltip:{trigger:"item"},series:[{label:{show:!0},labelLine:{show:!0},type:"pie",radius:"85%",color:["#0D47A1","#1565C0","#1976D2","#1E88E5","#2196F3","#42A5F5","#64B5F6","#90CAF9","#BBDEFB","#E3F2FD","#CAF0F8","#ADE8F4","#90E0EF","#48CAE4","#00B4D8","#0096C7","#0077B6","#023E8A","#03045E","#8ecae6","#98c1d9","#D9ED92","#B5E48C","#99D98C","#76C893","#52B69A","#34A0A4","#168AAD","#1A759F","#1E6091","#184E77","#457b9d"],data:[{value:"",name:""}],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},memoryChartOption:{tooltip:{formatter:"{a} <br/>{b} : {c}%"},series:[{name:"Pressure",type:"gauge",radius:"100%",detail:{formatter:"{value}"},data:[{value:"",name:"\u5185\u5B58\u6D88\u8017"}]}]}});return(async()=>{const d=await A();a.value=d.data.info,a.value.dbSize=d.data.dbSize,c.commandChartOption.series[0].data=d.data.commandStats,c.memoryChartOption.series[0].data[0].value=(d.data.info.used_memory/1024/1024).toFixed(2),c.memoryChartOption.series[0].detail.formatter="{value}M";const u=y(p(b.value)),o=y(p(v.value));u.setOption(c.commandChartOption),o.setOption(c.memoryChartOption)})(),(d,u)=>{const o=h("el-scrollbar"),n=h("el-card");return Cl(),Al("div",F,[r(n,{class:"!border-none",shadow:"never"},{default:_(()=>[l("div",null,[w,l("div",E,[r(o,null,{default:_(()=>[l("table",D,[l("tbody",null,[l("tr",O,[g,l("td",x,[l("div",B,s(t(a).redis_version),1)]),k,l("td",S,[l("div",R,s(t(a).redis_mode=="standalone"?"\u5355\u673A":"\u96C6\u7FA4"),1)]),z,l("td",P,[l("div",K,s(t(a).tcp_port),1)]),X,l("td",q,[l("div",G,s(t(a).connected_clients),1)])]),l("tr",I,[L,l("td",M,[l("div",U,s(t(a).uptime_in_days),1)]),Y,l("td",j,[l("div",H,s(t(a).used_memory_human),1)]),J,l("td",N,[l("div",Q,s(t(a).used_cpu_user_children),1)]),T,l("td",V,[l("div",W,s(t(a).maxmemory_human),1)])]),l("tr",Z,[$,l("td",ll,[l("div",el,s(t(a).aof_enabled==0?"\u5F00\u542F":"\u5173\u95ED"),1)]),al,l("td",sl,[l("div",tl,s(t(a).aof_enabled=="ok"?"\u6210\u529F":"\u5931\u8D25"),1)]),cl,l("td",dl,[l("div",il,s(t(a).dbSize),1)]),rl,l("td",_l,[l("div",ol,s(t(a).instantaneous_input_kbps)+" / "+s(t(a).instantaneous_output_kbps),1)])])])])]),_:1})])])]),_:1}),l("div",nl,[r(n,{class:"sm:mr-4 flex-1 !border-none mt-4",shadow:"never"},{default:_(()=>[l("div",null,[ml,l("div",{class:"flex h-[300px] items-center",ref_key:"commandChartRef",ref:b},null,512)])]),_:1}),r(n,{class:"flex-1 !border-none mt-4",shadow:"never"},{default:_(()=>[l("div",null,[bl,l("div",{class:"flex h-[300px] items-center",ref_key:"memoryChartRef",ref:v},null,512)])]),_:1})])])}}});C=fl(ul,[["__scopeId","data-v-e3ebaa46"]])});export{El as __tla,C as default};
