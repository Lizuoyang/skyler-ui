import{d as S,b as we,a as pe,u as ve,L as k,E as ke,e as Ee,K as ye,M as Se,S as Fe,o as Ce,h as ze,_ as Oe,__tla as Ie}from"./index.dc33c00f.js";import{d as Re,K as W,aC as F,aH as Te,az as X,h as C,a1 as Le,l as Y,k as Ae,ak as i,o as G,a as Me,Y as l,S as r,u as a,W as h,b as c,M as J,X as z,R as xe,V as Pe,O as $e}from"./vue.445bf94b.js";let N,O,qe=Promise.all([(()=>{try{return Ie}catch{}})()]).then(async()=>{const R=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=(()=>{if(typeof document>"u")return!1;const n=R[0],s={};for(const t of R)if((t==null?void 0:t[1])in document){for(const[m,b]of t.entries())s[n[m]]=b;return s}return!1})(),T={change:d.fullscreenchange,error:d.fullscreenerror};let o={request(n=document.documentElement,s){return new Promise((t,m)=>{const b=()=>{o.off("change",b),t()};o.on("change",b);const E=n[d.requestFullscreen](s);E instanceof Promise&&E.then(b).catch(m)})},exit(){return new Promise((n,s)=>{if(!o.isFullscreen){n();return}const t=()=>{o.off("change",t),n()};o.on("change",t);const m=document[d.exitFullscreen]();m instanceof Promise&&m.then(t).catch(s)})},toggle(n,s){return o.isFullscreen?o.exit():o.request(n,s)},onchange(n){o.on("change",n)},onerror(n){o.on("error",n)},on(n,s){const t=T[n];t&&document.addEventListener(t,s,!1)},off(n,s){const t=T[n];t&&document.removeEventListener(t,s,!1)},raw:d};Object.defineProperties(o,{isFullscreen:{get:()=>!!document[d.fullscreenElement]},element:{enumerable:!0,get:()=>document[d.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[d.fullscreenEnabled]}}),d||(o={isEnabled:!1});let w,L,A,M,x,P,$,q,B,D;w=o,O=Re("msg",{state:()=>({msgArray:[]}),actions:{getAllMsg(){return this.msgArray},setMsg(n){this.msgArray.push(n)},removeAll(){this.msgArray=[]}}}),L={class:"layout-navbars-breadcrumb-user-icon"},A=["title"],M=["title"],x={class:"layout-navbars-breadcrumb-user-icon"},P=["title"],$={class:"layout-navbars-breadcrumb-user-link"},q=["src"],B=W({name:"layoutBreadcrumbUser"}),D=W({...B,setup(n){const s=F(()=>S(()=>import("./index.73f4f154.js").then(async e=>(await e.__tla,e)),["assets/index.73f4f154.js","assets/index.dc33c00f.js","assets/vue.445bf94b.js","assets/index.57bc2f6e.css"])),t=F(()=>S(()=>import("./userNews.01851ad3.js").then(async e=>(await e.__tla,e)),["assets/userNews.01851ad3.js","assets/vue.445bf94b.js","assets/index.dc33c00f.js","assets/index.57bc2f6e.css","assets/userNews.355dce93.css"])),m=F(()=>S(()=>import("./search.b78a73ae.js").then(async e=>(await e.__tla,e)),["assets/search.b78a73ae.js","assets/index.dc33c00f.js","assets/vue.445bf94b.js","assets/index.57bc2f6e.css","assets/search.29229522.css"])),b=F(()=>S(()=>import("./personal.9319024d.js").then(async e=>(await e.__tla,e)),["assets/personal.9319024d.js","assets/index.dc33c00f.js","assets/vue.445bf94b.js","assets/index.57bc2f6e.css","assets/user.fa0f10ab.js","assets/personal.1b65c0bd.css"])),{locale:E,t:p}=we(),Q=Te(),Z=pe(),ee=ve(),{userInfos:j}=X(Z),{themeConfig:_}=X(ee),K=C(),le=C(),U=C(),f=Le({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),ne=C(!1),te=Y(()=>{let e="";const{layout:g,isClassicSplitMenu:u}=_.value;return["defaults","columns"].includes(g)||g==="classic"&&!u?e="1":e="",e}),re=()=>{if(!w.isEnabled)return ke.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;w.toggle(),w.on("change",()=>{w.isFullscreen?f.isScreenfull=!0:f.isScreenfull=!1})},se=()=>{Ee.emit("openSetingsDrawer")},ae=e=>{e==="logOut"?ye({closeOnClickModal:!1,closeOnPressEscape:!1,title:p("user.logOutTitle"),message:p("user.logOutMessage"),showCancelButton:!0,confirmButtonText:p("user.logOutConfirm"),cancelButtonText:p("user.logOutCancel"),buttonSize:"default",beforeClose:(g,u,v)=>{g==="confirm"?(u.confirmButtonLoading=!0,u.confirmButtonText=p("user.logOutExit"),setTimeout(()=>{v(),setTimeout(()=>{u.confirmButtonLoading=!1},300)},700)):v()}}).then(async()=>{await Se(),Fe.clear(),window.location.reload()}).catch(()=>{}):e==="personal"?U.value.open():Q.push(e)},oe=()=>{K.value.openSearch()},ue=e=>{k.remove("themeConfig"),_.value.globalI18n=e,k.set("themeConfig",_.value),E.value=e,Ce.useTitle(),I("globalI18n","disabledI18n")},ce=()=>{_.value.isLockScreen=!0,_.value.lockScreenTime=0,k.set("themeConfig",_.value)},I=(e,g)=>{f[g]=k.get("themeConfig")[e]},ie=e=>{O().setMsg({label:"websocket\u6D88\u606F",value:e,time:ze(new Date)})},de=Y(()=>O().getAllMsg().length>0);return Ae(()=>{k.get("themeConfig")&&(I("globalComponentSize","disabledSize"),I("globalI18n","disabledI18n"))}),(e,g)=>{const u=i("el-dropdown-item"),v=i("el-dropdown-menu"),H=i("el-dropdown"),me=i("ele-Lock"),y=i("el-icon"),fe=i("ele-Search"),be=i("ele-Bell"),ge=i("el-badge"),_e=i("el-popover"),he=i("ele-ArrowDown");return G(),Me("div",{class:"layout-navbars-breadcrumb-user pr15",style:$e({flex:a(te)})},[l(H,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:ue},{dropdown:r(()=>[l(v,null,{default:r(()=>[l(u,{command:"zh-cn",disabled:a(f).disabledI18n==="zh-cn"},{default:r(()=>[h("\u7B80\u4F53\u4E2D\u6587")]),_:1},8,["disabled"]),l(u,{command:"en",disabled:a(f).disabledI18n==="en"},{default:r(()=>[h("English")]),_:1},8,["disabled"])]),_:1})]),default:r(()=>[c("div",L,[c("i",{class:J(["iconfont",a(f).disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("user.title1")},null,10,A)])]),_:1}),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:ce},[l(y,{title:e.$t("layout.threeLockScreenTime")},{default:r(()=>[l(me)]),_:1},8,["title"])]),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:oe},[l(y,{title:e.$t("user.title2")},{default:r(()=>[l(fe)]),_:1},8,["title"])]),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:se},[c("i",{class:"icon-skin iconfont",title:e.$t("user.title3")},null,8,M)]),c("div",x,[l(_e,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:r(()=>[l(ge,{"is-dot":a(de)},{default:r(()=>[l(y,{title:e.$t("user.title4")},{default:r(()=>[l(be)]),_:1},8,["title"])]),_:1},8,["is-dot"])]),default:r(()=>[l(a(t),{ref_key:"newsRef",ref:le},null,512)]),_:1})]),c("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:re},[c("i",{class:J(["iconfont",a(f).isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:a(f).isScreenfull?e.$t("user.title6"):e.$t("user.title5")},null,10,P)]),l(H,{"show-timeout":70,"hide-timeout":50,onCommand:ae},{dropdown:r(()=>[l(v,null,{default:r(()=>[l(u,{command:"/home"},{default:r(()=>[h(z(e.$t("user.dropdown1")),1)]),_:1}),l(u,{command:"personal"},{default:r(()=>[h(z(e.$t("user.dropdown2")),1)]),_:1}),l(u,{divided:"",command:"logOut"},{default:r(()=>[h(z(e.$t("user.dropdown5")),1)]),_:1})]),_:1})]),default:r(()=>[c("span",$,[c("img",{src:e.baseURL+a(j).user.avatar,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,q),h(" "+z(a(j).user.username)+" ",1),l(y,{class:"el-icon--right"},{default:r(()=>[l(he)]),_:1})])]),_:1}),l(a(m),{ref_key:"searchRef",ref:K},null,512),a(ne)?(G(),xe(a(s),{key:0,uri:"/admin/ws/info",onRollback:ie})):Pe("",!0),l(a(b),{ref_key:"personalDrawerRef",ref:U},null,512)],4)}}});let V;V=Oe(D,[["__scopeId","data-v-55873045"]]),N=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}))});export{qe as __tla,N as a,O as u};
