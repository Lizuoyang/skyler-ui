import{G as B,u as Q,e as o,H as U,_ as V,__tla as W}from"./index.dc33c00f.js";import{K as S,h as $,az as g,aD as Z,aH as ee,a1 as le,k as ne,a0 as se,aJ as te,i as ae,ak as b,o as m,a as c,Y as k,S as ie,b as h,F as oe,ab as ue,u as i,M as p,X as M,n as re}from"./vue.445bf94b.js";let P,de=Promise.all([(()=>{try{return W}catch{}})()]).then(async()=>{const D={class:"layout-columns-aside"},N=["onClick","onMouseenter","title"],T={class:"columns-vertical-title font12"},j=["href"],R={class:"columns-vertical-title font12"},w=S({name:"layoutColumnsAside"}),z=S({...w,setup(me){const H=$([]),I=$(),f=B(),E=Q(),{routesList:C,isColumnsMenuHover:F,isColumnsNavHover:G}=g(f),{themeConfig:u}=g(E),L=Z(),x=ee(),s=le({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[]}),A=e=>{s.liIndex=e,I.value.style.top=`${H.value[e].offsetTop+s.difference}px`},J=(e,l)=>{A(l);let{path:n,redirect:a}=e;a?x.push(a):x.push(n)},K=(e,l)=>{if(!u.value.isColumnsMenuHoverPreload)return!1;let{path:n}=e;s.liOldPath=n,s.liOldIndex=l,s.liHoverIndex=l,o.emit("setSendColumnsChildren",d(n)),f.setColumnsMenuHover(!1),f.setColumnsNavHover(!0)},X=async()=>{await f.setColumnsNavHover(!1),setTimeout(()=>{!F&&!G&&o.emit("restoreDefault")},100)},_=e=>{re(()=>{A(e)})},Y=()=>{var l;s.columnsAsideList=O(C.value);const e=d(L.path);if(Object.keys(e).length<=0)return!1;_((l=e.item)==null?void 0:l.k),o.emit("setSendColumnsChildren",e)},d=e=>{const l=y(C.value,e);let n={children:[]};return s.columnsAsideList.map((a,t)=>{a.path===l.path&&(a.k=t,n.item={...a},n.children=[{...a}],a.children&&(n.children=a.children))}),n},O=e=>e.filter(l=>{var n;return!((n=l.meta)!=null&&n.isHide)}).map(l=>(l=Object.assign({},l),l.children&&(l.children=O(l.children)),l)),q=e=>{const l=y(C.value,e),n=s.columnsAsideList.find(a=>a.path===l.path);if(!n)return!1;setTimeout(()=>{_(n.k)},0)},y=(e,l)=>{let n;return e.forEach(a=>{if(a.path===l){n=a;return}if(a.children&&y(a.children,l)){n=a;return}}),n};return ne(()=>{Y(),o.on("restoreDefault",()=>{s.liOldIndex=null,s.liOldPath=null})}),se(()=>{o.off("restoreDefault",()=>{})}),te(e=>{q(e.path),o.emit("setSendColumnsChildren",d(e.path))}),ae(U.state,e=>{if(e.themeConfig.themeConfig.columnsAsideStyle==="columnsRound"?s.difference=3:s.difference=0,!e.routesList.isColumnsMenuHover&&!e.routesList.isColumnsNavHover)s.liHoverIndex=null,o.emit("setSendColumnsChildren",d(L.path));else{if(s.liHoverIndex=s.liOldIndex,!s.liOldPath)return!1;o.emit("setSendColumnsChildren",d(s.liOldPath))}},{deep:!0}),(e,l)=>{const n=b("SvgIcon"),a=b("el-scrollbar");return m(),c("div",D,[k(a,null,{default:ie(()=>[h("ul",{onMouseleave:l[0]||(l[0]=t=>X())},[(m(!0),c(oe,null,ue(i(s).columnsAsideList,(t,r)=>(m(),c("li",{key:r,onClick:v=>J(t,r),onMouseenter:v=>K(t,r),ref_for:!0,ref:v=>{v&&(i(H)[r]=v)},class:p({"layout-columns-active":i(s).liIndex===r,"layout-columns-hover":i(s).liHoverIndex===r}),title:e.$t(t.name)},[!t.meta.isLink||t.meta.isLink&&t.meta.isIframe?(m(),c("div",{key:0,class:p(i(u).columnsAsideLayout)},[k(n,{name:t.meta.icon},null,8,["name"]),h("div",T,M(e.$t(t.name)&&e.$t(t.name).length>=4?e.$t(t.name).substr(0,i(u).columnsAsideLayout==="columns-vertical"?4:3):e.$t(t.name)),1)],2)):(m(),c("div",{key:1,class:p(i(u).columnsAsideLayout)},[h("a",{href:t.meta.isLink,target:"_blank"},[k(n,{name:t.meta.icon},null,8,["name"]),h("div",R,M(e.$t(t.name)&&e.$t(t.name).length>=4?e.$t(t.name).substr(0,i(u).columnsAsideLayout==="columns-vertical"?4:3):e.$t(t.name)),1)],8,j)],2))],42,N))),128)),h("div",{ref_key:"columnsAsideActiveRef",ref:I,class:p(i(u).columnsAsideStyle)},null,2)],32)]),_:1})])}}});P=V(z,[["__scopeId","data-v-1262e5a0"]])});export{de as __tla,P as default};
